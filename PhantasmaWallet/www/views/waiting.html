
<div class="row" style="padding-top: 50px;">
    <div class='container'>
        <div class='loader'>
            <div class='loader-dot'></div>
            <div class='loader-dot'></div>
            <div class='loader-dot'></div>
            <div class='loader-text'>Waiting for transaction confirmations<div class="loader-dots"></div></div>
        </div>
    </div>
</div>

<script>
    var counter = 0;

    $(document).ready(setTimeout(function() {
        getConfirmations();
        if (counter >= 10) window.location.replace("/error");
    }, 1000));

    function getConfirmations() {
        $.get('/confirmations/{{ConfirmingTxHash}}',
            function(returnedData) {
                if (returnedData === 'true') {
                    window.location.replace("/history");
                }
                counter++;
                console.log(returnedData);
            });
    }
</script>
